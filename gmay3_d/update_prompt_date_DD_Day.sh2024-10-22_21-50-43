#!/bin/bash

#  # 
#  # hexagrams=(ä·€ ä· ä·‚ ä·ƒ ä·„ ä·… ä·† ä·‡ ä·ˆ ä·‰ ä·Š ä·‹ ä·Œ ä· ä·Ž ä· ä· ä·‘ ä·’ ä·“ ä·” ä·• ä·– ä·— ä·˜ ä·™ ä·š ä·› ä·œ ä· ä·ž ä·Ÿ ä·  ä·¡ ä·¢ ä·£ ä·¤ ä·¥ ä·¦ ä·§ ä·¨ ä·© ä·ª ä·« ä·¬ ä·­ ä·® ä·¯ ä·° ä·± ä·² ä·³ ä·´ ä·µ ä·¶ ä·· ä·¸ ä·¹ ä·º ä·» ä·¼ ä·½ ä·¾ ä·¿)
#  # 
#  # random_index=$((RANDOM % 64))
#  # second_part="${hexagrams[random_index]} "



#echo "second_part=\"$second_part\""
# First part: Current date in DD-Day format
#first_part=$(date +"%d-%a")
first_part=$(date +"%I:%M %d-%a")

# Array of symbols
symbols=(" â˜¯" " â˜°" " â˜±" " â˜²" " â˜³" " â˜´" " â˜µ" " â˜¶" " â˜·")
# Randomly pick one
second_part="${symbols[$RANDOM % ${#symbols[@]}]}"

# Output the randomly selected symbol with the format
#echo "$second_part"


# Second part: Mountain emoji
#second_part="ä·€ " 
#second_part="â›°ï¸ " 
#second_part="ðŸ”¥"

# Combine the parts
#combined_template="    $first_part $second_part"
combined_template="$first_part$second_part"

# Path to your Oh My Posh configuration file
config_file="/root/themes/gmay3.omp.json"

# Use jq to update the template in the JSON structure
jq --arg new_template "$combined_template" '
  .blocks[1].segments[0].template = $new_template
' "$config_file" > "${config_file}.tmp" && mv "${config_file}.tmp" "$config_file"

echo "Updated template to '$combined_template' in $config_file"
